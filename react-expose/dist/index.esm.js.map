{"version":3,"file":"index.esm.js","sources":["../src/context/ExposeContext.tsx","../../node_modules/tslib/tslib.es6.mjs","../src/utils/index.ts","../src/components/ExposeWrapper.tsx","../src/components/ExposeTrigger.tsx"],"sourcesContent":["import React, {\n  createContext,\n  useContext,\n  useState,\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n} from \"react\";\nimport { ExposeContextType, ExposeProviderProps } from \"../types\";\n\nconst ExposeContext = createContext<ExposeContextType>({\n  isActive: false,\n  activate: () => {},\n  deactivate: () => {},\n  registerWindow: () => {},\n  unregisterWindow: () => {},\n  windows: new Map(),\n  borderWidth: 3, // Default border width\n  highlightedComponent: null,\n  setHighlightedComponent: () => {},\n});\n\nexport const useExpose = () => useContext(ExposeContext);\n\nexport const ExposeProvider: React.FC<ExposeProviderProps> = ({\n  children,\n  shortcut = \"Control+ArrowUp\",\n  onActivate,\n  onDeactivate,\n  blurAmount = 10,\n}) => {\n  const [isActive, setIsActive] = useState(false);\n  const [windows, setWindows] = useState<\n    Map<string, React.RefObject<HTMLDivElement>>\n  >(new Map());\n  \n  // Calculate global border width based on screen size\n  const [borderWidth, setBorderWidth] = useState(3); // Default border width\n  \n  // Update border width based on screen size when activated\n  useEffect(() => {\n    if (isActive) {\n      const smallScreen = window.innerWidth < 768;\n      const mediumScreen = window.innerWidth >= 768 && window.innerWidth < 1200;\n      const largeScreen = window.innerWidth >= 1200;\n      \n      // Set border width based on screen size\n      if (smallScreen) {\n        setBorderWidth(4); // Thicker borders on small screens\n      } else if (mediumScreen) {\n        setBorderWidth(3); // Medium borders on medium screens\n      } else if (largeScreen) {\n        setBorderWidth(2.5); // Thinner borders on large screens\n      }\n    }\n  }, [isActive]);\n\n  const activate = useCallback(() => {\n    setIsActive(true);\n    onActivate?.();\n  }, [onActivate]);\n\n  const deactivate = useCallback(() => {\n    setIsActive(false);\n    onDeactivate?.();\n  }, [onDeactivate]);\n\n  const registerWindow = useCallback(\n    (id: string, ref: React.RefObject<HTMLDivElement>) => {\n      setWindows((prev) => {\n        const newMap = new Map(prev);\n        newMap.set(id, ref);\n        return newMap;\n      });\n    },\n    [],\n  );\n\n  const unregisterWindow = useCallback((id: string) => {\n    setWindows((prev) => {\n      const newMap = new Map(prev);\n      newMap.delete(id);\n      return newMap;\n    });\n  }, []);\n\n  // State to track key hold timer and highlighted component\n  const keyHoldTimerRef = useRef<number | null>(null);\n  const [highlightedComponent, setHighlightedComponent] = useState<string | null>(null);\n\n  // Handle keyboard shortcut\n  useEffect(() => {\n    let keyDownTime = 0;\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Handle activate shortcut with modifiers\n      if (!isActive && shortcut.includes(\"+\")) {\n        const parts = shortcut.split(\"+\");\n        const key = parts.pop()?.toLowerCase();\n        const modifiers = parts.map((mod) => mod.toLowerCase());\n\n        const keyMatches = e.key.toLowerCase() === key?.toLowerCase();\n        const modifiersMatch =\n          modifiers.includes(\"control\") === e.ctrlKey &&\n          modifiers.includes(\"alt\") === e.altKey &&\n          modifiers.includes(\"shift\") === e.shiftKey &&\n          modifiers.includes(\"meta\") === e.metaKey;\n\n        if (keyMatches && modifiersMatch) {\n          e.preventDefault();\n          activate();\n        }\n      }\n      // Handle arrow key held (without modifiers), but only activate after 1 second\n      else if (\n        !isActive &&\n        shortcut.toLowerCase() === \"arrowup\" &&\n        e.key.toLowerCase() === \"arrowup\"\n      ) {\n        e.preventDefault();\n\n        // Clear any existing timer\n        if (keyHoldTimerRef.current !== null) {\n          window.clearTimeout(keyHoldTimerRef.current);\n        }\n\n        // Record when the key was pressed\n        keyDownTime = Date.now();\n\n        // Set a timer to activate Exposé after 1 second\n        keyHoldTimerRef.current = window.setTimeout(() => {\n          activate();\n          keyHoldTimerRef.current = null;\n        }, 1000);\n      }\n\n      // Handle escape to deactivate\n      if (isActive && e.key === \"Escape\") {\n        e.preventDefault();\n        deactivate();\n      }\n    };\n\n    // Handle key up to cancel activation if released before 1 second\n    const handleKeyUp = (e: KeyboardEvent) => {\n      if (\n        !isActive &&\n        shortcut.toLowerCase() === \"arrowup\" &&\n        e.key.toLowerCase() === \"arrowup\"\n      ) {\n        // If the key was released before the 1 second timer completed, cancel activation\n        if (keyHoldTimerRef.current !== null) {\n          window.clearTimeout(keyHoldTimerRef.current);\n          keyHoldTimerRef.current = null;\n        }\n      }\n      // We no longer deactivate on key release - only with Escape\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    window.addEventListener(\"keyup\", handleKeyUp);\n\n    return () => {\n      if (keyHoldTimerRef.current !== null) {\n        window.clearTimeout(keyHoldTimerRef.current);\n      }\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      window.removeEventListener(\"keyup\", handleKeyUp);\n    };\n  }, [isActive, activate, deactivate, shortcut]);\n\n  // Create backdrop element when Expose is active and handle body scrolling\n  useLayoutEffect(() => {\n    if (isActive) {\n      const backdropRef = { current: null as HTMLDivElement | null };\n      let animationFrameId: number | null = null;\n      let animationEndTimer: number | null = null;\n\n      // Create backdrop with requestAnimationFrame for smoother animation\n      animationFrameId = requestAnimationFrame(() => {\n        // Create backdrop overlay\n        const backdrop = document.createElement(\"div\");\n        backdropRef.current = backdrop;\n        backdrop.className = \"expose-backdrop\";\n        backdrop.style.position = \"fixed\";\n        backdrop.style.top = \"0\";\n        backdrop.style.left = \"0\";\n        backdrop.style.width = \"100vw\";\n        backdrop.style.height = \"100vh\";\n        backdrop.style.backgroundColor = \"rgba(255, 255, 255, 0.1)\";\n        backdrop.style.opacity = \"0\"; // Start with 0 opacity\n        backdrop.style.backdropFilter = `blur(${blurAmount}px)`;\n        // Apply Safari prefix with correct TypeScript handling\n        (backdrop.style as any)[\"-webkit-backdrop-filter\"] = `blur(${blurAmount}px)`;\n        backdrop.style.zIndex = \"9998\";\n        backdrop.style.transition = \"opacity 0.2s ease\";\n\n        // Add click handler to close on backdrop click\n        backdrop.addEventListener(\"click\", deactivate);\n        document.body.appendChild(backdrop);\n\n        // Store current scroll position\n        const scrollY = window.scrollY;\n\n        // Prevent scrolling by fixing the body position\n        document.body.style.position = 'fixed';\n        document.body.style.top = `-${scrollY}px`;\n        document.body.style.width = '100%';\n        document.body.style.overflowY = 'scroll'; // Prevents layout shift by keeping scrollbar visible\n\n        // Animate in - use requestAnimationFrame for smoother animation\n        requestAnimationFrame(() => {\n          if (backdrop) backdrop.style.opacity = \"1\";\n        });\n      });\n\n      return () => {\n        // Clean up animation frame if component unmounts before it runs\n        if (animationFrameId !== null) {\n          cancelAnimationFrame(animationFrameId);\n        }\n\n        if (backdropRef.current) {\n          const backdrop = backdropRef.current;\n          // Animate out\n          backdrop.style.opacity = \"0\";\n\n          // Restore scrolling and position\n          const scrollY = parseInt(document.body.style.top || '0', 10) * -1;\n          document.body.style.position = '';\n          document.body.style.top = '';\n          document.body.style.width = '';\n          document.body.style.overflowY = '';\n\n          // Restore scroll position\n          window.scrollTo(0, scrollY);\n\n          // Remove backdrop after animation completes using requestAnimationFrame\n          animationEndTimer = window.setTimeout(() => {\n            requestAnimationFrame(() => {\n              if (backdrop.parentNode === document.body) {\n                document.body.removeChild(backdrop);\n              }\n            });\n          }, 200); // Reduced from 300ms to 200ms for faster cleanup\n        }\n\n        // Clean up any remaining timeout\n        if (animationEndTimer !== null) {\n          window.clearTimeout(animationEndTimer);\n        }\n      };\n    }\n  }, [isActive, deactivate, blurAmount]);\n\n  return (\n    <ExposeContext.Provider\n      value={{\n        isActive,\n        activate,\n        deactivate,\n        registerWindow,\n        unregisterWindow,\n        windows,\n        borderWidth,\n        setActive: setIsActive, // Expose the setState function\n        highlightedComponent,\n        setHighlightedComponent, // Expose the highlighted component state\n      }}\n    >\n      {children}\n    </ExposeContext.Provider>\n  );\n};","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nvar ownKeys = function(o) {\n  ownKeys = Object.getOwnPropertyNames || function (o) {\n    var ar = [];\n    for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n    return ar;\n  };\n  return ownKeys(o);\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n","/**\n * Creates a unique ID for component tracking\n * @returns A unique string ID\n */\nexport const createUniqueId = (): string => {\n  return 'expose-' + Math.random().toString(36).slice(2, 11);\n};","import React, { useRef, useEffect, useState, useLayoutEffect } from \"react\";\nimport { useExpose } from \"../context/ExposeContext\";\nimport { createUniqueId } from \"../utils\";\nimport { AnimationStyles, ExposeWrapperProps } from \"../types\";\nimport \"./styles.css\";\n\nexport const ExposeWrapper: React.FC<ExposeWrapperProps> = ({\n  children,\n  id: propId,\n  className = \"\",\n  style = {},\n  label,\n}) => {\n  // Generate a unique ID if none provided\n  const componentId = useRef(propId || createUniqueId());\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const exposeObj = useExpose();\n  const { isActive, registerWindow, unregisterWindow, borderWidth } = exposeObj;\n  const rafRef = useRef<number | null>(null);\n\n  // Store calculated transform and scale for this window\n  const [animationStyles, setAnimationStyles] = useState<AnimationStyles | null>(null);\n\n  // Get highlighted component state from context\n  const { highlightedComponent, setHighlightedComponent } = exposeObj;\n\n  // Register/unregister this window with the Expose context\n  useEffect(() => {\n    registerWindow(componentId.current, wrapperRef);\n\n    return () => {\n      unregisterWindow(componentId.current);\n\n      // Clean up any pending animation frames\n      if (rafRef.current) {\n        cancelAnimationFrame(rafRef.current);\n        rafRef.current = null;\n      }\n    };\n  }, [registerWindow, unregisterWindow]);\n\n  // Reference for the border overlay\n  const borderRef = useRef<HTMLDivElement | null>(null);\n\n  // Handle hover state for border element\n  useLayoutEffect(() => {\n    if (!isActive) return;\n\n    // Create border overlay container if it doesn't exist\n    if (!borderRef.current) {\n      const borderContainer = document.createElement(\"div\");\n      borderContainer.className = \"expose-window-border-container\";\n\n      const borderElem = document.createElement(\"div\");\n      borderElem.className = \"expose-window-border-overlay\";\n\n      // Create label element at the same level as the border\n      const labelElem = document.createElement(\"div\");\n      labelElem.className = \"expose-window-label\";\n      labelElem.style.opacity = \"0\"; // Initially hidden\n\n      // Append both elements to the container\n      borderContainer.appendChild(borderElem);\n      borderContainer.appendChild(labelElem);\n\n      document.body.appendChild(borderContainer);\n      borderRef.current = borderContainer;\n\n      // Add handlers for hover\n      const handleMouseEnter = () => {\n        if (borderRef.current) {\n          // Add hover class and directly set border color\n          const borderOverlay = borderRef.current.querySelector('.expose-window-border-overlay') as HTMLElement;\n          if (borderOverlay) {\n            borderOverlay.classList.add(\"hover\");\n            borderOverlay.style.borderColor = \"rgba(64, 156, 255, 0.85)\";\n          }\n\n          // Show the label on hover\n          const labelEl = borderRef.current.querySelector('.expose-window-label');\n          if (labelEl) (labelEl as HTMLElement).style.opacity = '1';\n        }\n      };\n\n      const handleMouseLeave = () => {\n        if (borderRef.current) {\n          // Remove hover class and set transparent border\n          const borderOverlay = borderRef.current.querySelector('.expose-window-border-overlay') as HTMLElement;\n          if (borderOverlay) {\n            borderOverlay.classList.remove(\"hover\");\n            borderOverlay.style.borderColor = \"transparent\";\n          }\n\n          // Hide the label when not hovering\n          const labelEl = borderRef.current.querySelector('.expose-window-label');\n          if (labelEl) (labelEl as HTMLElement).style.opacity = '0';\n        }\n      };\n\n      if (wrapperRef.current) {\n        wrapperRef.current.addEventListener(\"mouseenter\", handleMouseEnter);\n        wrapperRef.current.addEventListener(\"mouseleave\", handleMouseLeave);\n      }\n    }\n\n    return () => {\n      // Clean up the container and all its children\n      if (borderRef.current) {\n        document.body.removeChild(borderRef.current);\n        borderRef.current = null;\n      }\n\n      if (wrapperRef.current) {\n        // Remove event listeners properly with named functions\n        const handleMouseEnter = () => {\n          if (borderRef.current) {\n            // Add hover class and directly set border color\n            const borderOverlay = borderRef.current.querySelector('.expose-window-border-overlay') as HTMLElement;\n            if (borderOverlay) {\n              borderOverlay.classList.add(\"hover\");\n              borderOverlay.style.borderColor = \"rgba(64, 156, 255, 0.85)\";\n            }\n            const labelEl = borderRef.current.querySelector('.expose-window-label');\n            if (labelEl) (labelEl as HTMLElement).style.opacity = '1';\n          }\n        };\n\n        const handleMouseLeave = () => {\n          if (borderRef.current) {\n            // Remove hover class and set transparent border\n            const borderOverlay = borderRef.current.querySelector('.expose-window-border-overlay') as HTMLElement;\n            if (borderOverlay) {\n              borderOverlay.classList.remove(\"hover\");\n              borderOverlay.style.borderColor = \"transparent\";\n            }\n            const labelEl = borderRef.current.querySelector('.expose-window-label');\n            if (labelEl) (labelEl as HTMLElement).style.opacity = '0';\n          }\n        };\n\n        wrapperRef.current.removeEventListener(\"mouseenter\", handleMouseEnter);\n        wrapperRef.current.removeEventListener(\"mouseleave\", handleMouseLeave);\n      }\n    };\n  }, [isActive]);\n\n  // Handle scroll events to detect when scroll has ended\n  useEffect(() => {\n    const isThisHighlighted = highlightedComponent === componentId.current;\n\n    if (isThisHighlighted) {\n      const maxHighlightTimeout = setTimeout(() => {\n        setHighlightedComponent(null);\n      }, 500); // Maximum highlight time\n\n      return () => {\n        clearTimeout(maxHighlightTimeout);\n      };\n    }\n  }, [highlightedComponent, componentId, setHighlightedComponent]);\n\n  // Calculate and store animation properties\n  useLayoutEffect(() => {\n    if (!wrapperRef.current || !isActive) {\n      // Cancel any pending animation frames when not active\n      if (rafRef.current) {\n        cancelAnimationFrame(rafRef.current);\n        rafRef.current = null;\n      }\n      return;\n    }\n\n    // Use requestAnimationFrame for smoother animations\n    const updatePosition = () => {\n      if (!wrapperRef.current) return;\n\n      const element = wrapperRef.current;\n      const rect = element.getBoundingClientRect();\n\n      // Get viewport dimensions\n      const viewportWidth = window.innerWidth;\n      const viewportHeight = window.innerHeight;\n\n      // Find all windows that are being exposed\n      const allWindows = document.querySelectorAll(\".expose-window\");\n      const count = allWindows.length;\n\n      // Calculate optimal grid layout\n      const aspectRatio = viewportWidth / viewportHeight;\n      const columnsBase = Math.sqrt(count * aspectRatio);\n      const columns = Math.ceil(columnsBase);\n      const rows = Math.ceil(count / columns);\n\n      // Get this element's index\n      const index = Array.from(allWindows).indexOf(element);\n\n      // Calculate grid position\n      const gridCol = index % columns;\n      const gridRow = Math.floor(index / columns);\n\n      // Calculate cell dimensions with padding between cells\n      const padding = Math.min(viewportWidth, viewportHeight) * 0.05; // 5% of viewport\n      const cellWidth = (viewportWidth - padding * (columns + 1)) / columns;\n      const cellHeight = (viewportHeight - padding * (rows + 1)) / rows;\n\n      // Determine scaling factor based on component size and available space\n      const isSmall = rect.width < 200 || rect.height < 150;\n      const isVeryLarge =\n        rect.width > viewportWidth * 0.6 || rect.height > viewportHeight * 0.6;\n\n      // Calculate max scale that would fit in cell with padding\n      const maxWidthScale = (cellWidth / rect.width) * 0.85; // 85% of cell width\n      const maxHeightScale = (cellHeight / rect.height) * 0.85; // 85% of cell height\n      let targetScale = Math.min(maxWidthScale, maxHeightScale);\n\n      // Adjust scale for edge cases\n      if (isSmall && targetScale < 0.7) targetScale = Math.max(targetScale, 0.7);\n      if (isVeryLarge) targetScale = Math.min(targetScale, 0.25);\n\n      // Calculate center positions\n      const centerX = padding + gridCol * (cellWidth + padding) + cellWidth / 2;\n      const centerY = padding + gridRow * (cellHeight + padding) + cellHeight / 2;\n      const currentCenterX = rect.left + rect.width / 2;\n      const currentCenterY = rect.top + rect.height / 2;\n\n      // Calculate transform values\n      const translateX = centerX - currentCenterX;\n      const translateY = centerY - currentCenterY;\n      const finalTranslateX = Math.round(translateX);\n      const finalTranslateY = Math.round(translateY);\n      const finalScale = parseFloat(targetScale.toFixed(3));\n\n      setAnimationStyles({\n        transform: `translate(${finalTranslateX}px, ${finalTranslateY}px)`,\n        scale: finalScale,\n        zIndex: 10000,\n      });\n\n      // Update border container and its children\n      if (borderRef.current) {\n        const visualWidth = rect.width * finalScale;\n        const visualHeight = rect.height * finalScale;\n        const visualCenterX = currentCenterX + finalTranslateX;\n        const visualCenterY = currentCenterY + finalTranslateY;\n\n        const borderOffset = Math.max(\n          4, // min offset\n          Math.min(12, 14 * (1 - finalScale)) // max offset\n        );\n\n        const scaledVisualWidth = visualWidth * 0.97;\n        const scaledVisualHeight = visualHeight * 0.97;\n        const containerWidth = scaledVisualWidth + borderOffset * 2;\n        const containerHeight = scaledVisualHeight + borderOffset * 2;\n\n        // Position the container\n        borderRef.current.style.transform = \"none\";\n        borderRef.current.style.width = `${containerWidth}px`;\n        borderRef.current.style.height = `${containerHeight}px`;\n        borderRef.current.style.left = `${Math.round(visualCenterX - containerWidth / 2)}px`;\n        borderRef.current.style.top = `${Math.round(visualCenterY - containerHeight / 2)}px`;\n        borderRef.current.style.position = \"fixed\";\n        borderRef.current.style.pointerEvents = \"none\";\n        borderRef.current.style.zIndex = \"10001\";\n        borderRef.current.style.overflow = \"visible\";\n\n        // Style the border overlay\n        const borderOverlay = borderRef.current.querySelector('.expose-window-border-overlay') as HTMLElement;\n        if (borderOverlay) {\n          borderOverlay.style.position = \"absolute\";\n          borderOverlay.style.top = \"0\";\n          borderOverlay.style.left = \"0\";\n          borderOverlay.style.width = \"100%\";\n          borderOverlay.style.height = \"100%\";\n          borderOverlay.style.borderWidth = `${borderWidth}px`;\n          borderOverlay.style.borderStyle = \"solid\";\n          borderOverlay.style.borderColor = \"transparent\"; // Initial transparent border\n          borderOverlay.style.borderRadius = \"6px\";\n          borderOverlay.style.boxSizing = \"border-box\";\n          borderOverlay.style.pointerEvents = \"none\";\n\n          // Explicitly set transition for border-color\n          borderOverlay.style.transition = \"border-color 0.2s ease\";\n\n          // Make sure hover class correctly sets the border color\n          if (borderOverlay.classList.contains(\"hover\")) {\n            borderOverlay.style.borderColor = \"rgba(64, 156, 255, 0.85)\";\n          }\n        }\n\n        // Position the label\n        const labelElem = borderRef.current.querySelector('.expose-window-label') as HTMLElement;\n        if (labelElem && label) {\n          labelElem.textContent = label;\n          labelElem.style.position = \"absolute\";\n          labelElem.style.bottom = \"-30px\";\n          labelElem.style.left = \"50%\";\n          labelElem.style.transform = \"translateX(-50%)\";\n          labelElem.style.height = \"auto\";\n          labelElem.style.minHeight = \"fit-content\";\n          labelElem.style.maxWidth = \"none\";\n          labelElem.style.display = \"flex\";\n          labelElem.style.alignItems = \"center\";\n          labelElem.style.justifyContent = \"center\";\n          labelElem.style.backgroundColor = \"rgba(0, 0, 0, 0.75)\";\n          labelElem.style.color = \"white\";\n          labelElem.style.padding = \"4px 8px\";\n          labelElem.style.borderRadius = \"4px\";\n          labelElem.style.fontSize = \"12px\";\n          labelElem.style.fontWeight = \"bold\";\n          labelElem.style.whiteSpace = \"nowrap\";\n          labelElem.style.transition = \"opacity 0.2s ease\";\n          labelElem.style.pointerEvents = \"none\";\n          labelElem.style.zIndex = \"10002\"; // Higher than container\n        }\n      }\n    };\n\n    // Run immediately once for initial positioning\n    updatePosition();\n\n    // Then listen for resize events which might require recalculation\n    const handleResize = () => {\n      if (rafRef.current) {\n        cancelAnimationFrame(rafRef.current);\n      }\n      rafRef.current = requestAnimationFrame(updatePosition);\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      if (rafRef.current) {\n        cancelAnimationFrame(rafRef.current);\n        rafRef.current = null;\n      }\n    };\n  }, [isActive, borderWidth, label]);\n\n  // Handle label text updates\n  useEffect(() => {\n    // Only update label when in expose mode with a valid label\n    if (isActive && label && borderRef.current) {\n      // Get label element that's already created as a sibling to border\n      const labelElem = borderRef.current.querySelector('.expose-window-label');\n\n      if (labelElem) {\n        // Update label text\n        labelElem.textContent = label;\n      }\n    }\n  }, [isActive, label]);\n\n  return (\n    <div className=\"expose-container\">\n      <div\n        ref={wrapperRef}\n        className={`expose-window ${isActive ? \"expose-window-active\" : \"\"} ${highlightedComponent === componentId.current ? \"expose-window-highlighted\" : \"\"} ${className}`}\n        onClick={\n          isActive\n            ? (e) => {\n                e.stopPropagation();\n                if (wrapperRef.current) {\n                  // Deactivate expose mode\n                  if (exposeObj.setActive) {\n                    exposeObj.setActive(false);\n                  }\n\n                  // Set this component as highlighted\n                  setHighlightedComponent(componentId.current);\n\n                  // Use requestAnimationFrame for smoother scrolling after transition\n                  requestAnimationFrame(() => {\n                    setTimeout(() => {\n                      if (!wrapperRef.current) return;\n                      const rect = wrapperRef.current.getBoundingClientRect();\n                      // Calculate position relative to the document with a small margin\n                      const scrollY = window.scrollY + rect.top - 50;\n                      window.scrollTo({\n                        top: scrollY,\n                        behavior: \"smooth\",\n                      });\n                    }, 200); // Match transition time\n                  });\n                }\n              }\n            : undefined\n        }\n        style={{\n          ...style,\n          transition: \"transform 0.2s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.2s ease, box-shadow 0.2s ease, filter 0.2s ease\",\n          transformOrigin: \"center center\",\n          willChange: (isActive || highlightedComponent === componentId.current) ? \"transform, opacity, filter\" : \"auto\",\n          zIndex: animationStyles && isActive\n            ? animationStyles.zIndex\n            : highlightedComponent === componentId.current ? 1000 : \"auto\",\n          transform: animationStyles && isActive\n            ? `translate(${animationStyles.transform.match(/translate\\((.*?)px,/)?.[1] || 0}px, ${animationStyles.transform.match(/px,\\s*(.*?)px\\)/)?.[1] || 0}px) scale(${animationStyles?.scale || 1})`\n            : \"none\",\n          background: isActive ? undefined : \"transparent\",\n          boxShadow: isActive\n            ? undefined\n            : highlightedComponent === componentId.current\n              ? \"0 0 0 4px rgba(64, 156, 255, 0.7), 0 5px 20px rgba(0, 0, 0, 0.2)\"\n              : \"none\",\n          width: \"100%\",\n          height: \"100%\",\n          pointerEvents: \"auto\",\n          filter: highlightedComponent === componentId.current ? \"none\" : \"blur(0px)\",\n        }}\n        data-expose-id={componentId.current}\n        data-scale={animationStyles?.scale || 1}\n        data-highlighted={highlightedComponent === componentId.current ? \"true\" : \"false\"}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};","import React, { useEffect, useRef } from 'react';\nimport { useExpose } from '../context/ExposeContext';\n\n/**\n * Component to handle keyboard shortcuts for Exposé activation\n */\nexport const ExposeTrigger: React.FC = () => {\n  const { isActive, activate, deactivate } = useExpose();\n  const lastClickTimeRef = useRef(0);\n  const doubleClickThreshold = 300; // milliseconds between clicks to count as a double click\n  \n  useEffect(() => {\n    const handleKeyUp = (e: KeyboardEvent) => {\n      // Only handle arrow up key when not active\n      if (isActive || e.key !== 'ArrowUp') return;\n      \n      e.preventDefault();\n      \n      const currentTime = Date.now();\n      const timeSinceLastClick = currentTime - lastClickTimeRef.current;\n      \n      if (timeSinceLastClick < doubleClickThreshold) {\n        // Double click detected\n        activate();\n        // Reset timer to prevent triple click counting as another double click\n        lastClickTimeRef.current = 0;\n      } else {\n        // First click, start timer\n        lastClickTimeRef.current = currentTime;\n      }\n    };\n    \n    const handleEscapeKey = (e: KeyboardEvent) => {\n      // Only deactivate with Escape key when active\n      if (isActive && e.key === 'Escape') {\n        e.preventDefault();\n        deactivate();\n      }\n    };\n    \n    // Add event listeners - using keyup for more reliable double-click detection\n    window.addEventListener('keyup', handleKeyUp);\n    window.addEventListener('keydown', handleEscapeKey);\n    \n    // Clean up\n    return () => {\n      window.removeEventListener('keyup', handleKeyUp);\n      window.removeEventListener('keydown', handleEscapeKey);\n    };\n  }, [isActive, activate, deactivate]);\n  \n  // This component doesn't render anything\n  return null;\n};"],"names":["ExposeContext","createContext","isActive","activate","deactivate","registerWindow","unregisterWindow","windows","Map","borderWidth","highlightedComponent","setHighlightedComponent","useExpose","useContext","ExposeProvider","_a","children","_b","shortcut","onActivate","onDeactivate","_c","blurAmount","_d","useState","setIsActive","_e","setWindows","_f","setBorderWidth","useEffect","smallScreen","window","innerWidth","mediumScreen","largeScreen","useCallback","id","ref","prev","newMap","set","delete","keyHoldTimerRef","useRef","_g","handleKeyDown","e","includes","parts","split","key","pop","toLowerCase","modifiers","map","mod","keyMatches","modifiersMatch","ctrlKey","altKey","shiftKey","metaKey","preventDefault","current","clearTimeout","setTimeout","handleKeyUp","addEventListener","removeEventListener","useLayoutEffect","animationFrameId_1","backdropRef_1","animationEndTimer_1","requestAnimationFrame","backdrop","document","createElement","className","style","position","top","left","width","height","backgroundColor","opacity","backdropFilter","concat","zIndex","transition","body","appendChild","scrollY","overflowY","cancelAnimationFrame","backdrop_1","scrollY_1","parseInt","scrollTo","parentNode","removeChild","React","Provider","value","setActive","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","SuppressedError","ExposeWrapper","propId","label","componentId","Math","random","toString","slice","wrapperRef","exposeObj","rafRef","animationStyles","setAnimationStyles","borderRef","borderContainer","borderElem","labelElem","borderOverlay","querySelector","classList","add","borderColor","labelEl","remove","maxHighlightTimeout_1","updatePosition","element","rect","getBoundingClientRect","viewportWidth","viewportHeight","innerHeight","allWindows","querySelectorAll","count","aspectRatio","columnsBase","sqrt","columns","ceil","rows","index","Array","from","indexOf","gridCol","gridRow","floor","padding","min","cellWidth","cellHeight","isSmall","isVeryLarge","maxWidthScale","maxHeightScale","targetScale","max","centerX","centerY","currentCenterX","currentCenterY","translateX","translateY","finalTranslateX","round","finalTranslateY","finalScale","parseFloat","toFixed","transform","scale","visualWidth","visualHeight","visualCenterX","visualCenterY","borderOffset","containerWidth","containerHeight","pointerEvents","overflow","borderStyle","borderRadius","boxSizing","contains","textContent","bottom","minHeight","maxWidth","display","alignItems","justifyContent","color","fontSize","fontWeight","whiteSpace","handleResize","onClick","stopPropagation","behavior","undefined","transformOrigin","willChange","match","background","boxShadow","filter","ExposeTrigger","lastClickTimeRef","currentTime","Date","now","handleEscapeKey"],"mappings":"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"}